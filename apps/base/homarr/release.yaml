apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: homarr
  namespace: dashboard
spec:
  interval: 30m
  chart:
    spec:
      chart: homarr
      version: "3.14.0"

      sourceRef:
        kind: HelmRepository
        name: homarr
        namespace: dashboard
      interval: 12h
  values:
    env: 
      TZ: "Europe/Paris"
    persistence:
      homarrDatabase:
        enabled: true
        size: "1Gi"
    service:
      enabled: true # Ensure the service is enabled for Ingress to route traffic
    ingress:
      enabled: true
      ingressClassName: "traefik"
      annotations:
      # Add any additional annotations as needed
      hosts:
        - host: dashboard.justindesio.fr
          paths:
            - path: /
              pathType: ImplementationSpecific
      # tls:
      #   - secretName: tls-secret
      #     hosts:
      #     - dashboard.justindesio.com